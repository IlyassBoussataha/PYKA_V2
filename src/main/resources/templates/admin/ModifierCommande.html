<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8" />
    <link rel="apple-touch-icon" sizes="76x76" href="../../assets/img/apple-icon.png" />
    <link rel="icon" type="image/png" href="../../assets/img/favicon.png" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>PYKA | Lavage auto sans eau à domicile</title>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />
    <!--  Social tags      -->
    <meta name="keywords" content="material dashboard, bootstrap material admin, bootstrap material dashboard, material design admin, material design, creative tim, html dashboard, html css dashboard, web dashboard, freebie, free bootstrap dashboard, css3 dashboard, bootstrap admin, bootstrap dashboard, frontend, responsive bootstrap dashboard, premiu material design admin">
    <meta name="description" content="Lavage auto sans eau à domicile">
    <!-- Schema.org markup for Google+ -->
    <meta itemprop="name" content="PYKA | Lavage auto sans eau à domicile">
    <meta itemprop="description" content="PYKA | Lavage auto sans eau à domicile">
    <meta itemprop="image" content="../../../../s3.amazonaws.com/creativetim_bucket/products/51/opt_mdp_thumbnail.jpg">
    <!-- Twitter Card data -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@creativetim">
    <meta name="twitter:title" content="Material Dashboard PRO by Creative Tim | Premium Bootstrap Admin Template">
    <meta name="twitter:description" content="Material Dashboard PRO is a Premium Material Bootstrap Admin with a fresh, new design inspired by Google's Material Design.">
    <meta name="twitter:creator" content="@creativetim">
    <meta name="twitter:image" content="../../../../s3.amazonaws.com/creativetim_bucket/products/51/opt_mdp_thumbnail.jpg">
    <!-- Open Graph data -->
    <meta property="fb:app_id" content="655968634437471">
    <meta property="og:title" content="PYKA | Lavage auto sans eau à domicile" />
    <meta property="og:type" content="article" />
    <meta property="og:image" content="../../../../s3.amazonaws.com/creativetim_bucket/products/51/opt_mdp_thumbnail.jpg" />
    <meta property="og:description" content="Material Dashboard PRO is a Premium Material Bootstrap Admin with a fresh, new design inspired by Google's Material Design." />
    <meta property="og:site_name" content="Creative Tim" />
    <!-- Bootstrap core CSS     -->
    <link th:href="@{/assets/css/bootstrap.min.css}" rel="stylesheet" />
    <!--  Material Dashboard CSS    -->
    <link th:href="@{/assets/css/material-dashboard5438.css?v=1.2.0}" rel="stylesheet" />
    <!--     Fonts and icons     -->
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style type="text/css">
        .form-group div.error{
          position: relative;
          left: 0rem;
          color:#FF4081;
          -webkit-transform: translateY(0%);
          -ms-transform: translateY(0%);
          -o-transform: translateY(0%);
          transform: translateY(0%);
        }
   </style>
</head>

<body>
    <div class="wrapper">
        <div th:include="admin/sidebar::sidebar"></div>
        <div class="main-panel">
            <nav class="navbar navbar-transparent navbar-absolute">
                <div class="container-fluid">
                    <div class="navbar-minimize">
                        <button id="minimizeSidebar" class="btn btn-round btn-white btn-fill btn-just-icon">
                            <i class="material-icons visible-on-sidebar-regular">more_vert</i>
                            <i class="material-icons visible-on-sidebar-mini">view_list</i>
                        </button>
                    </div>
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle" data-toggle="collapse">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <a class="navbar-brand" href="#"> Commande </a>
                    </div>
                    <div class="collapse navbar-collapse">
                        <ul class="nav navbar-nav navbar-right">
                            <li>
                                <a href="#pablo" class="dropdown-toggle" data-toggle="dropdown">
                                    <i class="material-icons">person</i>
                                    <p class="hidden-lg hidden-md">Profile</p>
                                </a>
                            </li>
                            <li class="separator hidden-lg hidden-md"></li>
                        </ul>
                    </div>
                </div>
            </nav>
            <div class="content">
                <div class="container-fluid">
                    <div class="row text-center">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-header card-header-icon" data-background-color="rose">
                                    <i class="material-icons">av_timer</i>
                                </div>
                                <div class="card-content">
                                    <h4 class="card-title text-left">Modifier Commande</h4>
                                    <form id="nouvellecommandeform" class="form-horizontal" th:action="@{/Admin/ModifierCommande}" method="post" role="form">
                                        <input name="id" th:value="${Commande.id}" style="visibility: hidden;" />
                                        <div class="row">
                                            <label class="col-md-3 label-on-left">Client <span style="color :red">*</span></label>
                                            <div class="col-md-9">
                                                <div class="form-group label-floating is-empty">
                                                    <select class="selectpicker" data-style="select-with-transition" name="selectclient" data-size="7" required="true" id="selectclient">
                                                        <option value="">Veuillez selectionnez un client</option>
                                                        <option th:each="client :${ListClients}"
                                                                    th:value="${client.id}"
                                                                    th:text="${client.nom} + ' ' + ${client.prenom}" th:selected="${Commande.clientId.id} == ${client.id} ">
                                                        </option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <label class="col-md-3 label-on-left">Date <span style="color :red">*</span></label>
                                            <div class="col-md-9">
                                                <div class="form-group label-floating is-empty">
                                                    <input type="text" class="form-control datepicker" name="stringdate" id="date" th:value="${Commande.date}" required />
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <label class="col-md-3 label-on-left">Créneaux <span style="color :red">*</span></label>
                                            <div class="col-md-9">
                                                <div class="form-group label-floating is-empty">
                                                    <select class="selectpicker" data-style="select-with-transition" name="selectcreneau" data-size="7" required="true" id="selectcreneau">
                                                        <option value="">Veuillez selectionnez un créneau</option>
                                                        <option th:each="creneau :${ListCreneaux}"
                                                                    th:value="${creneau.id}"
                                                                    th:text="'De ' + ${creneau.heureDebut} + ' à ' + ${creneau.heureFin}" th:selected="${Commande.creneau.id} == ${creneau.id} ">
                                                        </option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <label class="col-md-3 label-on-left">Type Véhicule <span style="color :red">*</span></label>
                                            <div class="col-md-9">
                                                <div class="form-group label-floating is-empty">
                                                    <select class="selectpicker" data-style="select-with-transition" name="vehicule" data-size="7" id="selectvehicule">
                                                        <option value="">Veuillez selectionnez un type</option>
                                                        <option value="Citadine" th:selected="${Commande.vehicule} == 'Citadine'">Citadine</option>
                                                        <option value="Berline" th:selected="${Commande.vehicule} == 'Berline'">Berline</option>
                                                        <option value="Break" th:selected="${Commande.vehicule} == 'Break'">Break</option>
                                                        <option value="SUV" th:selected="${Commande.vehicule} == 'SUV'">SUV (4x4)</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <label class="col-md-3 label-on-left">Type De Lavage <span style="color :red">*</span></label>
                                            <div class="col-md-9">
                                                <div class="form-group label-floating is-empty">
                                                    <select class="selectpicker" data-style="select-with-transition" name="typeLavage" data-size="7" id="selectlavage">
                                                        <option value="">Veuillez selectionnez un type</option>
                                                        <option value="Interieur" th:selected="${Commande.typeLavage} == 'Interieur'">Interieur</option>
                                                        <option value="Exterieur" th:selected="${Commande.typeLavage} == 'Exterieur'">Exterieur</option>
                                                        <option value="Interieur + Exterieur" th:selected="${Commande.typeLavage} == 'Interieur + Exterieur'">Interieur + Exterieur</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <label class="col-md-3 label-on-left">Adresse <span style="color :red">*</span></label>
                                            <div class="col-md-9">
                                                <div class="form-group label-floating is-empty">
                                                    <input id="adressemap" type="text" size="50" name="adresse" th:value="${Commande.adresse}" placeholder="Adresse" class="form-control" required/>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <label class="col-md-3 label-on-left">Affecter à un laveur ? <span style="color :red">*</span></label>
                                            <span th:if="${Commande.assigner} == true">
                                                <div class="col-md-2 checkbox-radios">
                                                    <div class="radio radio-inline">
                                                        <label>
                                                            <input type="radio" name="affecterlaveur" id="Oui" value="Oui" checked="true"> Oui
                                                        </label>
                                                        <label>
                                                            <input type="radio" name="affecterlaveur" id="Non" value="Non"> Non
                                                        </label>
                                                    </div>
                                                </div>
                                            </span>
                                            <span th:if="${Commande.assigner} == false">
                                                <div class="col-md-2 checkbox-radios">
                                                    <div class="radio radio-inline">
                                                        <label>
                                                            <input type="radio" name="affecterlaveur" id="Oui" value="Oui"> Oui
                                                        </label>
                                                        <label>
                                                            <input type="radio" name="affecterlaveur" id="Non" value="Non" checked="true"> Non
                                                        </label>
                                                    </div>
                                                </div>
                                            </span>
                                        </div>
                                        <div class="row oui">
                                            <label class="col-md-3 label-on-left">Laveur <span style="color :red">*</span></label>
                                            <div class="col-md-9">
                                                <div class="form-group label-floating is-empty">
                                                   <select class="selectpicker" data-style="select-with-transition" name="selectlaveur" data-size="7" id="selectlaveur">
                                                        <option id='first' value="">Veuillez selectionnez un laveur</option>
                                                        <span th:if="${Commande.laveurId} == null">
                                                            <option th:each="laveur :${ListLaveurs}"
                                                                        th:value="${laveur.id}"
                                                                        th:text="${laveur.nom} + ' ' + ${laveur.prenom}">
                                                            </option>
                                                        </span>
                                                        <span th:if="${Commande.laveurId} != null">
                                                            <option th:each="laveur :${ListLaveurs}"
                                                                        th:value="${laveur.id}"
                                                                        th:text="${laveur.nom} + ' ' + ${laveur.prenom}"  th:selected="${Commande.laveurId.id} == ${laveur.id}">
                                                            </option>
                                                        </span>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <label class="col-md-3 label-on-left">Mode De Paiement <span style="color :red">*</span></label>
                                            <div class="col-md-9">
                                                <div class="form-group label-floating is-empty">
                                                    <select class="selectpicker" data-style="select-with-transition" name="modePaiement" data-size="7" id="selectpaiement">
                                                        <option value="">Veuillez selectionnez un mode</option>
                                                        <option value="CB" th:selected="${Commande.modePaiement} == 'CB'">CB</option>
                                                        <option value="Cash" th:selected="${Commande.modePaiement} == 'Cash'">Cash</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="form-group form-button">
                                                <button type="submit" class="btn btn-fill btn-rose">Valider</button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <footer class="footer">
                <div th:include="admin/footer::footer"></div>
            </footer>
        </div>
    </div>
</body>
<!--   Core JS Files   -->
<script th:src="@{/assets/js/jquery-3.2.1.min.js}" type="text/javascript"></script>
<script th:src="@{/assets/js/bootstrap.min.js}" type="text/javascript"></script>
<script th:src="@{/assets/js/material.min.js}" type="text/javascript"></script>
<script th:src="@{/assets/js/perfect-scrollbar.jquery.min.js}" type="text/javascript"></script>
<!-- Library for adding dinamically elements -->
<script th:src="@{/assets/js/arrive.min.js}" type="text/javascript"></script>
<!-- Forms Validations Plugin -->
<script th:src="@{/assets/js/jquery.validate.min.js}"></script>
<script type="text/javascript" th:src="@{/assets/js/messages_fr.js}"></script>
<script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/additional-methods.min.js"></script>
<!-- Promise Library for SweetAlert2 working on IE -->
<script th:src="@{/assets/js/es6-promise-auto.min.js}"></script>
<!--  Plugin for Date Time Picker and Full Calendar Plugin-->
<script th:src="@{/assets/js/moment.min.js}"></script>
<!--  Charts Plugin, full documentation here: https://gionkunz.github.io/chartist-js/ -->
<script th:src="@{/assets/js/chartist.min.js}"></script>
<!--  Plugin for the Wizard, full documentation here: https://github.com/VinceG/twitter-bootstrap-wizard -->
<script th:src="@{/assets/js/jquery.bootstrap-wizard.js}"></script>
<!--  Notifications Plugin, full documentation here: http://bootstrap-notify.remabledesigns.com/    -->
<script th:src="@{/assets/js/bootstrap-notify.js}"></script>
<!--   Sharrre Library    -->
<script th:src="@{/assets/js/jquery.sharrre.js}"></script>
<!--  Plugin for the DateTimePicker, full documentation here: https://eonasdan.github.io/bootstrap-datetimepicker/ -->
<script th:src="@{/assets/js/bootstrap-datetimepicker.js}"></script>
<!-- Vector Map plugin, full documentation here: http://jvectormap.com/documentation/ -->
<script th:src="@{/assets/js/jquery-jvectormap.js}"></script>
<!-- Sliders Plugin, full documentation here: https://refreshless.com/nouislider/ -->
<script th:src="@{/assets/js/nouislider.min.js}"></script>
<!--  Google Maps Plugin    -->
<script src="https://maps.googleapis.com/maps/api/js?libraries=places&key=AIzaSyBPtRbohu3Ajde9UW1a04OsGg61MpVbiVU"></script>
<!--  Plugin for Select, full documentation here: http://silviomoreto.github.io/bootstrap-select -->
<script th:src="@{/assets/js/jquery.select-bootstrap.js}"></script>
<!--  DataTables.net Plugin, full documentation here: https://datatables.net/    -->
<script th:src="@{/assets/js/jquery.datatables.js}"></script>
<!-- Sweet Alert 2 plugin, full documentation here: https://limonte.github.io/sweetalert2/ -->
<script th:src="@{/assets/js/sweetalert2.js}"></script>
<!-- Plugin for Fileupload, full documentation here: http://www.jasny.net/bootstrap/javascript/#fileinput -->
<script th:src="@{/assets/js/jasny-bootstrap.min.js}"></script>
<!--  Full Calendar Plugin, full documentation here: https://github.com/fullcalendar/fullcalendar    -->
<script th:src="@{/assets/js/fullcalendar.min.js}"></script>
<!-- Plugin for Tags, full documentation here: https://github.com/bootstrap-tagsinput/bootstrap-tagsinputs  -->
<script th:src="@{/assets/js/jquery.tagsinput.js}"></script>
<!-- Material Dashboard javascript methods -->
<script th:src="@{/assets/js/material-dashboard5438.js?v=1.2.0}"></script>
<!-- Material Dashboard DEMO methods, don't include it in your project! -->
<script th:src="@{/assets/js/demo.js}"></script>
<script th:inline="javascript">
             /*<![CDATA[*/
    $(document).ready(function() {
        var assigner = [[${Commande.assigner}]];
        if(assigner) $(".oui").show();
        else $(".oui").hide();
        $("#selectlaveur").attr('required',false);
        $('#selectlaveur option[id="first"]').val("-1");
        $("#commande").addClass('in');
        $("#Listecommandesassignees").addClass('active');
        // Javascript method's body can be found in assets/js/demos.js
        
        $('input:radio[name="affecterlaveur"]').change(function(){
        if($('#Oui').is(':checked')) {
            $(".oui").show();
            $("#selectlaveur").attr('required',true);
            $('#selectlaveur option[id="first"]').val("");
        }
        if($('#Non').is(':checked')) {
            $(".oui").hide();
            $("#selectlaveur").attr('required',false);
            $('#selectlaveur option[id="first"]').val("-1");
        }
        });

        demo.initVectorMap();
        $('.timepicker').datetimepicker({
            format: 'HH:mm', //use this format if you want the 12hours timpiecker with AM/PM toggle
            icons: {
                time: "fa fa-clock-o",
                date: "fa fa-calendar",
                up: "fa fa-chevron-up",
                down: "fa fa-chevron-down",
                previous: 'fa fa-chevron-left',
                next: 'fa fa-chevron-right',
                today: 'fa fa-screenshot',
                clear: 'fa fa-trash',
                close: 'fa fa-remove'
            }
        });
        
        $('.datepicker').datetimepicker({
            format: 'DD/MM/YYYY',
            icons: {
                time: "fa fa-clock-o",
                date: "fa fa-calendar",
                up: "fa fa-chevron-up",
                down: "fa fa-chevron-down",
                previous: 'fa fa-chevron-left',
                next: 'fa fa-chevron-right',
                today: 'fa fa-screenshot',
                clear: 'fa fa-trash',
                close: 'fa fa-remove'
            }
        });
        
        var date = [[${Commande.date}]];
        //console.log(date);
        var date = new Date(date);
        var day=date.getDate();
        //day = day.length > 1 ? day : '0' + day;
        var month=date.getMonth()+1;
        //month = month.length > 1 ? month : '0' + month;
        var year=date.getFullYear();
        $('#date').val(day + '/' + month + '/' +  year);
        
        
        /*function init() {
                var input = document.getElementById('adressemap');
                var autocomplete = new google.maps.places.Autocomplete(input);
            }

            google.maps.event.addDomListener(window, 'load', init);*/
        $("#nouvellecommandeform").validate({
        rules: {
            selectcreneau: {
                required: true
            },
            selectvehicule: {
                required: true
            },
            selectlavage:{
                required: true
            },
            selectpaiement:{
                required: true
            },
            affecterlaveur:{
                required: true
            }
        },
        errorElement : 'div',
        errorPlacement: function(error, element) {
            $(element).closest('div').addClass('has-error');
          var placement = $(element).data('error');
          if (placement) {
              $(placement).addClass('has-error');
            $(placement).append(error);
          } else {
            error.insertAfter(element);
          }
        }
     });
    });
/*]]>*/
</script>


</html>